focus_tree = {
	id = estonia_focus
	
	country = {
		factor = 0
		
		modifier = {
			add = 20
			tag = EST
		}
		
		modifier = {
			add = 20
			original_tag = EST
		}
	}
	
	default = no

	focus = {
	    id = EST_baltic_stability
		icon = neutrality
		
		x = 13
		y = 0
		
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes
		
		completion_reward = {
			add_political_power = 50
			add_stability = 0.02
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	
	focus = {
		id = EST_socialist_unity
		icon = industry_democratic4
		
		x = 13
		y = 2
		
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes
		
		prerequisite = {
			focus = EST_new_dream
		}
		
		mutually_exclusive = {
		    focus = EST_nationalist_pride
			focus = EST_ensure_democracy
		}
		
		completion_reward = {
            add_political_power = 100
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	
	focus = {
		id = EST_nationalist_pride
		icon = fascism
		
		x = 21
		y = 2
		
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes
		
		available = {
			threat > 0.2
			reactionary > 0.1
		}
		
		prerequisite = {
			focus = EST_new_dream
		}
		
		mutually_exclusive = {
		    focus = EST_socialist_unity
			focus = EST_ensure_democracy
		}
		
		completion_reward = {
            add_political_power = 100
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	
	focus = {
		id = EST_russian_side
		icon = align_to_russia
		
		x = 21
		y = 3
		
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes
		
		prerequisite = {
			focus = EST_nationalist_pride
		}
		
		mutually_exclusive = {}
		
		completion_reward = {}
		
		ai_will_do = {
			factor = 10
		}
	}
	
	focus = {
		id = EST_legacy_of_the_SSR
		icon = communism12
		
		x = 15
		y = 3
		
		cost = 10
        
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes
		
		prerequisite = {
			focus = EST_socialist_unity
		}
		
		mutually_exclusive = {}
		
		completion_reward = {
		    add_stability = -0.05
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	
	focus = {
		id = EST_ensure_democracy
		icon = democracy
		
		x = 5
		y = 2
		
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes
		
		prerequisite = { 
		    focus = EST_one_dream
		    focus = EST_new_dream 
		}
		
		mutually_exclusive = {
		    focus = EST_socialist_unity
			focus = EST_nationalist_pride
		}
		
		completion_reward = {
		    add_stability = 0.02
			add_political_power = 100
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	
    focus = {
		id = EST_one_dream
		icon = align_to_baltic_states2
		
		x = 9
		y = 1
		
		cost = 10

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		
		available = {
			threat > 0.2
		}
		
		prerequisite = {
		    focus = EST_baltic_stability
		}
		
		mutually_exclusive = {}
		
		completion_reward = {
		    add_stability = 0.02
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	
	focus = {
		id = EST_new_dream
		icon = national_greatness
		
		x = 17
		y = 1
		
		cost = 10

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		
		available = {}
		
		prerequisite = {
		    focus = EST_baltic_stability
		}
		
		mutually_exclusive = {}
		
		completion_reward = {
		    add_stability = 0.02
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	
	focus = {
	    id = EST_rail_baltica_project
		icon = baltic_development
		
		x = 4
		y = 4
		
		cost = 30

		prerequisite = {
		    focus = EST_expand_the_E263
		}
		
		prerequisite = {
		    focus = EST_ensure_democracy
		}
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes
		
		completion_reward = {
			add_popularity = {
				ideology = progressive
				popularity = 0.03
			}
			
			LAT = {
				add_opinion_modifier = {
					target = EST
					modifier = joint_infrastructure_projects
				}
			}
			
			LAT = {
				add_opinion_modifier = {
					target = EST
					modifier = economic_mission
				}
			}
			
			LIT = {
				add_opinion_modifier = {
					target = EST
					modifier = joint_infrastructure_projects
				}
			}
			
			LIT = {
				add_opinion_modifier = {
					target = EST
					modifier = economic_mission
				}
			}
			
			if = {
		    limit = {
				EST = { owns_state = 13 }
			}
				13 = {
					if = {
						limit = {
							free_building_slots = {
								building = industrial_complex
								size > 1
								include_locked = yes
							}
						}
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
					}
				}
			}
			if = {
		    limit = {
				LAT = { owns_state = 12 }
			}
				12 = {
					if = {
						limit = {
							free_building_slots = {
								building = industrial_complex
								size > 1
								include_locked = yes
							}
						}
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
					}
				}
			}
			if = {
		    limit = {
				LAT = { owns_state = 190 }
			}
				190 = {
					if = {
						limit = {
							free_building_slots = {
								building = industrial_complex
								size > 1
								include_locked = yes
							}
						}
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
			}
			if = {
		    limit = {
				LIT = { owns_state = 11 }
			}
				11 = {
					if = {
						limit = {
							free_building_slots = {
								building = industrial_complex
								size > 1
								include_locked = yes
							}
						}
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
					}
				}
			}
			if = {
		    limit = {
				LIT = { owns_state = 96 }
			}
				96 = {
					if = {
						limit = {
							free_building_slots = {
								building = industrial_complex
								size > 1
								include_locked = yes
							}
						}
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
			}
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	
	focus = {
		id = EST_social_ideas
		icon = anti_comintern_pact
		
		x = 7
		y = 3
		
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes
		
		prerequisite = {
			focus = EST_ensure_democracy
		}
		
		mutually_exclusive = {}
		
		completion_reward = {
		    add_stability = 0.02
		}
		
		ai_will_do = {
			factor = 10
		}
	}

		focus = {
		id = EST_spread_marxism
		icon = propaganda_communist
		
		x = 15
		y = 4
		
		cost = 20
        
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes
		
		prerequisite = {
			focus = EST_legacy_of_the_SSR
		}
		
		mutually_exclusive = {}
		
		completion_reward = {
		    add_popularity = {
				ideology = communist
				popularity = 0.10
			}
			add_popularity = {
				ideology = social_democrat
				popularity = 0.03
			}
		    add_political_power = -50
		    add_stability = -0.10
            increase_communist_influence_by_1 = yes
			increase_democratic_socialist_influence_by_1 = yes
			increase_social_democrat_influence_by_1 = yes
			add_timed_idea = {
			idea = idea_focus_generic_path_of_equality
			days = 280
			}
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	
	    focus = {
		id = EST_change_the_constitution
		icon = dangerous_laws
		
		x = 15
		y = 5
		
		cost = 10
        
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes
		
		prerequisite = {
			focus = EST_spread_marxism
		}
		
		mutually_exclusive = {}
		
		completion_reward = {
		    add_political_power = -100
		    add_stability = -0.10
            increase_communist_influence_by_1 = yes
			increase_social_democrat_influence_by_1 = yes
			add_ideas = parliamentary_crisis
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	
		focus = {
		id = EST_leave_the_EU
		icon = align_to_europe
		
		x = 18
		y = 6
		
		cost = 20
        
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes
		
		prerequisite = {
			focus = EST_change_the_constitution
		}
		
		mutually_exclusive = {}
		
		completion_reward = {
		    EU_membership_termination = yes
			news_event = news.4
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	
	    focus = {
		id = EST_clear_the_parliament
		icon = clear_parlament
		
		x = 15
		y = 7
		
		cost = 10
        
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		
		prerequisite = {
			focus = EST_change_the_constitution
		}
		
		mutually_exclusive = {}
		
		available = {
			if = { has_government = communist }
		}
		
		completion_reward = {
		    remove_ideas = parliamentary_crisis
			decrease_conservative_influence_by_1 = yes
			decrease_market_liberal_influence_by_1 = yes
			increase_communist_influence_by_1 = yes
		    add_popularity = {
				ideology = communist
				popularity = 0.10
			}
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	
	    focus = {
		id = EST_favor_a_worker_society
		icon = national_greatness
		
		x = 13
		y = 8
		
		cost = 10
        
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes
		
		prerequisite = {
			focus = EST_clear_the_parliament
		}
		
		mutually_exclusive = {
		focus = EST_communist_dictatorship
		}
		
		completion_reward = {
		    add_ideas = EST_new_type_of_marxism
			set_party_name = {
			ideology = communist long_name = "Eestimaa Töötajate Ühtsuse Vasakpartei" name = "ETÜVP"
			}
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	
	    focus = {
		id = EST_communist_dictatorship
		icon = military_mission
		
		x = 17
		y = 8
		
		cost = 10
        
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes
		
		prerequisite = {
			focus = EST_clear_the_parliament
		}
		
		mutually_exclusive = {
		focus = EST_favor_a_worker_society
		}
		
		completion_reward = {
		    set_party_name = {
			ideology = communist long_name = "Eestimaa Kommunistlik Partei" = EKP
			}
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	
	    focus = {
		id = EST_rewrite_the_constitution
		icon = constitution
		
		x = 13
		y = 11
		
		cost = 10
        
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes
		
		prerequisite = {
			focus = EST_restore_trust
		}
		
		mutually_exclusive = {}
		
		completion_reward = {
		    remove_ideas = EST_communist_party_banned
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	    focus = {
		id = EST_economic_plans
		icon = consumer_goods
		
		x = 2
		y = 0
		
		cost = 10
        
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes
		
		prerequisite = {}
		
		mutually_exclusive = {}
		
		completion_reward = {
		    add_tech_bonus = {
				name = industrial_bonus
				bonus = 0.25
				uses = 2
				category = industry
			}
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	
	    focus = {
		id = EST_industrial_focus
		icon = industry_civilian
		
		x = 0
		y = 1
		
		cost = 10
        
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes
		
		prerequisite = {
		    focus = EST_economic_plans
		}
		
		mutually_exclusive = {}
		
		completion_reward = {
		    if = {
				limit = {
					13 = { owner = { tag = EST } }
				}
				13 = {
					if = {
						limit = {
							free_building_slots = {
								building = industrial_complex
								size > 1
								include_locked = yes
							}
						}
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = {
					191 = { owner = { tag = EST } }
				}
				191 = {
					if = {
						limit = {
							free_building_slots = {
								building = industrial_complex
								size > 1
								include_locked = yes
							}
						}
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
				}
			}
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	
	    focus = {
		id = EST_expand_the_E263
		icon = infrastructure
		
		x = 3
		y = 1
		
		cost = 10
        
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes
		
		prerequisite = {
		    focus = EST_economic_plans
		}
		
		mutually_exclusive = {}
		
		completion_reward = {
		    if = {
				limit = {
					191 = { owner = { tag = EST } }
				}
				191 = {
					if = {
						limit = {
							free_building_slots = {
								building = industrial_complex
								size > 1
								include_locked = yes
							}
						}
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
			}
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	
		focus = {
		id = EST_support_VKG
		icon = oil_production
		
		x = 2
		y = 3
		
		cost = 10
        
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes
		
		prerequisite = {
			focus = EST_first_five_year_plan
		}
		
		mutually_exclusive = {
		    focus = EST_support_alternative_energy
		}
		
		completion_reward = {
		add_stability = -0.02
			840 = {
				add_resource = {
					type = oil
					amount = 4
				}
			}
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	
		focus = {
		id = EST_support_alternative_energy
		icon = agriculture
		
		x = 0
		y = 3
		
		cost = 10
        
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes
		
		prerequisite = {
			focus = EST_first_five_year_plan
		}
		
		mutually_exclusive = {
		    focus = EST_support_VKG
		}
		
		completion_reward = {
		add_stability = 0.02
			13 = {
				add_resource = {
					type = steel
					amount = 4
				}
			}
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	
		focus = {
		id = EST_first_five_year_plan
		icon = construction
		x = 1
		y = 2
		
		cost = 10
        
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes
		
        prerequisite = { focus = EST_industrial_focus }
		prerequisite = { focus = EST_expand_the_E263}
		
		mutually_exclusive = {}
		
		completion_reward = {
		add_stability = 0.02
		add_ideas = civilian_industry_project
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	
		focus = {
		id = EST_restore_trust
		icon = neutrality
		
		x = 13
		y = 10
		
		cost = 10
        
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes
		
		prerequisite = {
			focus = EST_favor_a_worker_society
		}
		
		mutually_exclusive = {}
		
		completion_reward = {
		    add_stability = 0.05
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	
		focus = {
		id = EST_setup_the_ESS
		icon = neutrality
		
		x = 13
		y = 10
		
		cost = 10
        
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes
		
		prerequisite = {
			focus = EST_favor_a_worker_society
		}
		
		mutually_exclusive = {}
		
		completion_reward = {
		    add_stability = 0.05
		}
		
		ai_will_do = {
			factor = 10
		}
	}