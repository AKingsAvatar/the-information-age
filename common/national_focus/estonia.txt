focus_tree = {    ### Made by CMDR Voltages ###
	id = estonia_focus
	
	country = {
		factor = 0
		
		modifier = {
			add = 20
			tag = EST
		}
		
		modifier = {
			add = 20
			original_tag = EST
		}
	}
	
	default = no

	focus = {
	    id = EST_baltic_stability
		icon = neutrality
		
		x = 13
		y = 0
		
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes
		
		completion_reward = {
			add_political_power = 50
			add_stability = 0.02
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	
	focus = {
		id = EST_socialist_unity
		icon = industry_democratic4
		
		x = 25
		y = 2
		
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes
		
		prerequisite = {
			focus = EST_baltic_stability
		}
		
		mutually_exclusive = {
		    focus = EST_nationalist_pride
			focus = EST_estonia_first
		}
		
		completion_reward = {
            add_political_power = 100
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	
	focus = {
		id = EST_nationalist_pride
		icon = fascism
		
		x = 38
		y = 2
		
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes
		
		available = {
			threat > 0.2
			reactionary > 0.1
		}
		
		prerequisite = {
			focus = EST_baltic_stability
		}
		
		mutually_exclusive = {
		    focus = EST_socialist_unity
			focus = EST_estonia_first
		}
		
		completion_reward = {
            add_political_power = 100
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	
	focus = {
		id = EST_russian_side
		icon = align_to_russia
		
		x = 38
		y = 3
		
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes
		
		prerequisite = {
			focus = EST_nationalist_pride
		}
		
		mutually_exclusive = {}
		
		completion_reward = {}
		
		ai_will_do = {
			factor = 10
		}
	}
	
	focus = {
		id = EST_legacy_of_the_SSR
		icon = communism12
		
		x = 25
		y = 3
		
		cost = 10
        
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes
		
		prerequisite = {
			focus = EST_socialist_unity
		}
		
		mutually_exclusive = {}
		
		completion_reward = {
		    add_stability = -0.05
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	
	### Democracy ###
	
	focus = {
		id = EST_the_scandal
		icon = scandal
		
		x = 8
		y = 2
		
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes
		
		prerequisite = {
		    focus = EST_baltic_stability
		}
		
		mutually_exclusive = {}
		
		completion_reward = {
		    add_stability = 0.02
			add_political_power = 100
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	
	### Estonia First Path ###
	focus = {
		id = EST_ekre
		icon = ekre
		
		x = 19
		y = 4
		
		cost = 10

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		
		available = {
			reactionary > 0.1
		}
		
		prerequisite = {
		    focus = EST_estonia_first
		}
		
		mutually_exclusive = {}
		
		completion_reward = {
		    
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	
	focus = {
		id = EST_eip
		icon = entente
		
		x = 36
		y = 4
		
		cost = 10

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		
		available = {
			reactionary > 0.1
		}
		
		prerequisite = {
		    focus = EST_nationalist_pride
		}
		
		mutually_exclusive = {}
		
		completion_reward = {
		    
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	
	focus = {
		id = EST_estonia_first
		icon = estonia_first
		
		x = 17
		y = 2
		
		cost = 10

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		
		available = {
			reactionary > 0.1
		}
		
		prerequisite = {
		    focus = EST_baltic_stability
		}
		
		mutually_exclusive = {
		    focus = EST_socialist_unity
			focus = EST_nationalist_pride
		}
		
		completion_reward = {
		    
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	
		focus = {
		id = EST_plans_for_2019
		icon = plans_for_2019
		
		x = 19
		y = 5
		
		cost = 10

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		
		available = {
			reactionary > 0.1
		}
		
		prerequisite = {
		    focus = EST_ekre
		}
		
		mutually_exclusive = {}
		
		completion_reward = {
		    
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	
	focus = {
		id = EST_plans_for
		icon = plans_for_2019
		
		x = 19
		y = 6
		
		cost = 10

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		
		available = {
			reactionary > 0.1
		}
		
		prerequisite = {
		    focus = EST_ekre
		}
		
		mutually_exclusive = {}
		
		completion_reward = {
		    
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	
	focus = {
	    id = EST_begin_the_rail_baltica_project
		icon = baltic_development
		
		x = 4
		y = 4
		
		cost = 20

		prerequisite = {
		    focus = EST_expand_the_E263
		}
		
		prerequisite = {
		}
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes
		
		completion_reward = {
		
		custom_effect_tooltip = EST_begin_the_rail_baltica
		
			add_popularity = {
				ideology = progressive
				popularity = 0.06
			}
			LAT = {
			    add_popularity = {
				    ideology = progressive
				    popularity = -0.03
				}
			}
			LIT = {
			    add_popularity = {
				    ideology = progressive
				    popularity = 0.02
				}
			}
			
			LAT = {
				add_opinion_modifier = {
					target = EST
					modifier = joint_infrastructure_projects
				}
			}
			
			LAT = {
				add_opinion_modifier = {
					target = EST
					modifier = economic_mission
				}
			}
			
			LIT = {
				add_opinion_modifier = {
					target = EST
					modifier = joint_infrastructure_projects
				}
			}
			
			LIT = {
				add_opinion_modifier = {
					target = EST
					modifier = economic_mission
				}
			}
			
			if = {
		    limit = {
				EST = { owns_state = 13 }
			}
				13 = {
					if = {
						limit = {
							free_building_slots = {
								building = industrial_complex
								size > 1
								include_locked = yes
							}
						}
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
			}
			if = {
		    limit = {
				LAT = { owns_state = 12 }
			}
				12 = {
					if = {
						limit = {
							free_building_slots = {
								building = industrial_complex
								size > 2
								include_locked = yes
							}
						}
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
			}
			if = {
		    limit = {
				LAT = { owns_state = 190 }
			}
				190 = {
					if = {
						limit = {
							free_building_slots = {
								building = industrial_complex
								size > 2
								include_locked = yes
							}
						}
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
			}
			if = {
		    limit = {
				LIT = { owns_state = 11 }
			}
				11 = {
					if = {
						limit = {
							free_building_slots = {
								building = industrial_complex
								size > 2
								include_locked = yes
							}
						}
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
			}
			if = {
		    limit = {
				LIT = { owns_state = 96 }
			}
				96 = {
					if = {
						limit = {
							free_building_slots = {
								building = industrial_complex
								size > 2
								include_locked = yes
							}
						}
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
			}
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	
	focus = {
		id = EST_provide_subsidies_to_farmers
		icon = farming_industry
		
		x = 9
		y = 6
		
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes
		
		prerequisite = {
		}
		
		mutually_exclusive = {}
		
		completion_reward = {
		    add_ideas = EST_agricultural_subsidies
		    add_stability = 0.02
			add_political_power = -70
			
			
		}
		
		ai_will_do = {
			factor = 10
		}
	}

		focus = {
		id = EST_spread_marxism
		icon = propaganda_communist
		
		x = 25
		y = 4
		
		cost = 20
        
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes
		
		prerequisite = {
			focus = EST_legacy_of_the_SSR
		}
		
		mutually_exclusive = {}
		
		completion_reward = {
		    add_popularity = {
				ideology = communist
				popularity = 0.10
			}
			add_popularity = {
				ideology = social_democrat
				popularity = 0.03
			}
		    add_political_power = -50
		    add_stability = -0.10
			add_timed_idea = {
			idea = idea_focus_generic_path_of_equality
			days = 280
			}
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	
	    focus = {
		id = EST_change_the_constitution
		icon = dangerous_laws
		
		x = 25
		y = 5
		
		cost = 10
        
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes
		
		prerequisite = {
			focus = EST_spread_marxism
		}
		
		mutually_exclusive = {}
		
		completion_reward = {
		    add_political_power = -100
		    add_stability = -0.10
			add_ideas = parliamentary_crisis
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	
		focus = {
		id = EST_leave_the_EU
		icon = align_to_europe
		
		x = 28
		y = 6
		
		cost = 20
        
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes
		
		prerequisite = {
			focus = EST_change_the_constitution
		}
		
		mutually_exclusive = {}
		
		completion_reward = {
		    EU_membership_termination = yes
			news_event = news.4
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	
	    focus = {
		id = EST_clear_the_parliament
		icon = clear_parlament
		
		x = 25
		y = 7
		
		cost = 10
        
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		
		prerequisite = {
			focus = EST_change_the_constitution
		}
		
		mutually_exclusive = {}
		
		available = {
			if = { has_government = communist }
		}
		
		completion_reward = {
		    remove_ideas = parliamentary_crisis
		    add_popularity = {
				ideology = communist
				popularity = 0.10
			}
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	
	    focus = {
		id = EST_favor_a_worker_society
		icon = national_greatness
		
		x = 23
		y = 8
		
		cost = 10
        
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes
		
		prerequisite = {
			focus = EST_clear_the_parliament
		}
		
		mutually_exclusive = {
		focus = EST_communist_dictatorship
		}
		
		completion_reward = {
		    add_ideas = EST_new_type_of_marxism
			set_party_name = {
			ideology = communist long_name = "Eestimaa Töötajate Ühtsuse Vasakpartei" name = "ETÜVP"
			}
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	
	    focus = {
		id = EST_communist_dictatorship
		icon = military_mission
		
		x = 26
		y = 8
		
		cost = 10
        
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes
		
		prerequisite = {
			focus = EST_clear_the_parliament
		}
		
		mutually_exclusive = {
		focus = EST_favor_a_worker_society
		}
		
		completion_reward = {
		    set_party_name = {
			ideology = communist long_name = "Eestimaa Kommunistlik Partei" name = EKP
			}
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	
	focus = {
		id = EST_rewrite_the_constitution
		icon = constitution
		
		x = 24
		y = 11
		
		cost = 10
        
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes
		
		prerequisite = {
			focus = EST_restore_trust
		}
		
		mutually_exclusive = {}
		
		completion_reward = {
		    remove_ideas = EST_communist_party_banned
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	    focus = {
		id = EST_economic_plans
		icon = consumer_goods
		
		x = 2
		y = 0
		
		cost = 10
        
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes
		
		prerequisite = {}
		
		mutually_exclusive = {}
		
		completion_reward = {
		    add_tech_bonus = {
				name = industrial_bonus
				bonus = 0.25
				uses = 2
				category = industry
			}
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	
	    focus = {
		id = EST_industrial_focus
		icon = industry_civilian
		
		x = 0
		y = 1
		
		cost = 10
        
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes
		
		prerequisite = {
		    focus = EST_economic_plans
		}
		
		mutually_exclusive = {}
		
		completion_reward = {
		    if = {
				limit = {
					13 = { owner = { tag = EST } }
				}
				13 = {
					if = {
						limit = {
							free_building_slots = {
								building = industrial_complex
								size > 1
								include_locked = yes
							}
						}
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = {
					191 = { owner = { tag = EST } }
				}
				191 = {
					if = {
						limit = {
							free_building_slots = {
								building = industrial_complex
								size > 1
								include_locked = yes
							}
						}
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
				}
			}
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	
	    focus = {
		id = EST_expand_the_E263
		icon = infrastructure
		
		x = 4
		y = 1
		
		cost = 10
        
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes
		
		prerequisite = {
		    focus = EST_economic_plans
		}
		
		mutually_exclusive = {}
		
		completion_reward = {
		    if = {
				limit = {
					191 = { owner = { tag = EST } }
				}
				191 = {
					if = {
						limit = {
							free_building_slots = {
								building = industrial_complex
								size > 1
								include_locked = yes
							}
						}
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
			}
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	
		focus = {
		id = EST_restore_trust
		icon = neutrality
		
		x = 23
		y = 10
		
		cost = 10
        
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes
		
		prerequisite = {
			focus = EST_favor_a_worker_society
		}
		
		mutually_exclusive = {}
		
		completion_reward = {
		    add_stability = 0.05
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	
		focus = {
		id = EST_setup_the_ESS
		icon = neutrality
		
		x = 25
		y = 10
		
		cost = 10
        
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes
		
		prerequisite = {
			focus = EST_favor_a_worker_society
		}
		
		mutually_exclusive = {}
		
		completion_reward = {
		    add_stability = 0.05
		}
		
		ai_will_do = {
			factor = 10
		}
	}